<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Agendamentos</title>

    <!-- jQuery + Mask -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>

    <script>
        $(document).ready(function () {
            $('#filter_phone').mask('(00) 00000-0000');

            $("#filter_phone").on("keyup change", function () {
                let value = $(this).val();
                
                $("table tbody tr").filter(function () {
                    $(this).toggle($(this).text().indexOf(value) > -1)
                });
            });
        });
    </script>

    <style>
        body {
            padding: 40px;
            font-family: Arial;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, td, th {
            border: 1px solid #ccc;
        }
        th {
            background-color: #eee;
            padding: 8px;
        }
        td {
            padding: 6px;
        }
        #filter_phone {
            width: 250px;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>

    <h1>Agendamentos</h1>

    <!-- FILTRO PELO CELULAR -->
    <label for="filter_phone">Filtrar por celular:</label>
    <input type="text" id="filter_phone" placeholder="(00) 00000-0000">

    <table>
        <thead>
            <tr>
                <th>Celular</th>
                <th>Hor√°rio</th>
                <th>Placa</th>
            </tr>
        </thead>

        <tbody>
            {% for ap in appointments %}
            <tr>
                <td>{{ ap.phone }}</td>
                <td>{{ ap.time }}</td>
                <td>{{ ap.vehicle_plate }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</body>
</html>
    